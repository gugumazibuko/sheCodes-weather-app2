<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Instrument+Serif&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;1,100;1,300;1,500;1,600&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/650341ecc3.js"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        background-color: blue;
        background-image: url(https://s3.amazonaws.com/shecodesio-production/uploads/files/000/080/640/original/cloud.jpg?1683335867);
      }
      h1 {
        font-size: 20px;
      }
      #city-form {
        border-radius: 5px;
        width: 600px;
      }

      .card {
        border: black solid 1px;
        margin: 30px 0px 15px 0px;
        padding: 15px;
        color: #fff;
        background-color: #0b6498;
        font-family: "Instrument Serif", serif, "Poppins", sans-serif;
      }
      span {
        font-size: 30px;
      }

      .forms {
        position: relative;
        right: 20px;
      }
      .middle{
        border: black solid 0.8px;
        margin: 100px 50px 100px 50px;
        padding: 10px 15px 10px 15px;
        border-radius: 5px;
        width: 50%;
        color: #fff;
        background-color: #0b6498;
        font-family: "Instrument Serif", serif, "Poppins", sans-serif;
      }
      .middle{
        position: relative;
        right: 10px;
      }
      h2 {
        position: relative;
        left: 120px;
        font-size: 25px;
      }
      ul {
        list-style-type: none;
      }
      a {
        font-size: 20px;
        color: #fff;
        cursor: pointer;
        position: relative;
        bottom: 15px;
        text-decoration: none;
      }
      a:hover {
        color: navy;
        cursor: pointer;
        text-decoration: underline;
      }
    </style>
  </head>
<div class="container">
  <body>
    <div class="searchBar">
          <form class="searchForm">
            <input
              type="text"
              placeholder=" Search location here"
              class="exampleInputForm"
              autofocus="on"
            />
            
            <input type="submit" value="Search" class="formButton" />
            <input
              type="submit"
              value="Current"
              class="formButton"
              id="currentBtn"
            />
          </form>
        
          
        </div>
        
        </div>
      
      <section class="middle">
          
        <div class="row align-items-center mx-auto">
          <div class="row col-12 centerContent align-items-center pt-5 mt-5">
             <i class="title" id="currentLocation"><span>Johannesburg FORECAST</span></i>
            <span id="dateTime" class="dateUpdate">Thursday 10:35</span> 
           <span><img src="https://assets.msn.com/weathermapdata/1/static/weather/Icons/taskbar_v5/Condition_Card/MostlyCloudyNightV2.svg " width="40"/> </span> 
           <span> <p class="col sideNumber buttonTemp">
              <span id="currentTemp"></span>
              <span id="spanUnit">
                <span>
                  <a href="#" id="celsius"> °C</a>
                  /
                  <a href="#" id="fahrenheit"> °F</a>
                </span>

                <span id="weatherDescription"></span>
              </span>
            </p>
           </span>
           
            <div class="col row">
              <span class="sideNumber" id="leftSideNumber"></span>
              <div class="col rightSide sideNumber row align-items-center">
              <span>Humidity: <span id="humidity">50</span>%</span>
              <span>Wind: <span id="wind">4</span>km/h</span>
            </div>
            </div>
            
           
          </div>
        </div>
      </section>
        <div class="row row-cols-7 row-cols-md-7 g-2">
          <div class="col">
            <div class="card">
              <img
                src="https://s3.amazonaws.com/shecodesio-production/uploads/files/000/080/637/original/partly_sunny.svg?1683333944"
                class="sunny"
                width="100"
              />
              <div class="card-body">
                <h5 class="card-title">Today</h5>
                <div>23°C</div>
                <div>10°C</div>
                <p class="card-text">partly sunny</p>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card">
              <div class="card-body">
                <img
                  src="https://s3.amazonaws.com/shecodesio-production/uploads/files/000/080/637/original/partly_sunny.svg?1683333944"
                  class="sunny"
                  width="100"
                />
                <h5 class="card-title">Sunday</h5>
                <div>23°C</div>
                <div>11°C</div>
                <p class="card-text">Partly sunny</p>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card">
              <img
                src="https://s3.amazonaws.com/shecodesio-production/uploads/files/000/080/639/original/RainShowers.svg?1683334211"
                class="rain"
                width="100"
              />
              <div class="card-body">
                <h5 class="card-title">Monday</h5>
                <div>16°C</div>
                <div>8°C</div>
                <p class="card-text">rain showers</p>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card">
              <img
                src="https://s3.amazonaws.com/shecodesio-production/uploads/files/000/080/637/original/partly_sunny.svg?1683333944"
                class="sunny"
                width="100"
              />
              <div class="card-body">
                <h5 class="card-title">Tuesday</h5>
                <div>18°C</div>
                <div>8°C</div>
                <p class="card-text">Partly sunny</p>
              </div>
            </div>
          </div>

          <div class="col">
            <div class="card">
              <img
                src="https://s3.amazonaws.com/shecodesio-production/uploads/files/000/080/637/original/partly_sunny.svg?1683333944"
                class="sunny"
                width="100"
              />
              <div class="card-body">
                <h5 class="card-title">Wednesday</h5>
                <div>20°C</div>
                <div>9°C</div>
                <p class="card-text">Partly sunny</p>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card">
              <img
                src="https://s3.amazonaws.com/shecodesio-production/uploads/files/000/080/637/original/partly_sunny.svg?1683333944"
                class="sunny"
                width="100"
              />
              <div class="card-body">
                <h5 class="card-title">Thursday</h5>
                <div>20°C</div>
                <div>10°C</div>
                <p class="card-text">Partly sunny</p>
              </div>
            </div>
            <div class="col">
              <div class="card">
                <img
                  src="https://s3.amazonaws.com/shecodesio-production/uploads/files/000/080/637/original/partly_sunny.svg?1683333944"
                  class="sunny"
                  width="100"
                />
                <div class="card-body">
                  <h5 class="card-title">Friday</h5>
                  <div>20°C</div>
                  <div>9°C</div>
                  <p class="card-text">Partly sunny</p>
                </div>
              </div>
            </div>
          </div>
          <script>
            // current date and time
            let now = new Date();

            let days = [
              "Sunday",
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday",
              "Saturday",
            ];
            let day = days[now.getDay()];
            let hours = now.getHours();
            if (hours < 10) {
              hours = `0${hours}`;
            }
            let minutes = now.getMinutes();
            if (minutes < 10) {
              minutes = `0${minutes}`;
            }

            let dateTime = document.querySelector("#dateTime");
            dateTime.innerHTML = day + ":" + hours + ":" + minutes;

            function changeTemp() {
              let temp = document.querySelector("#currentTemp");
              let fahrenheitTemp = Math.round((temp.textContent * 9) / 5 + 32);
              temp.textContent = fahrenheitTemp;
            }
            let fahrenheitButton = document.getElementById("fahrenheit");
            fahrenheitButton.addEventListener("click", changeTemp);
            //change to CCC
            function backTemp() {
              let temp = document.querySelector("#currentTemp");
              let celsiusTemp = Math.round(((temp.textContent - 32) * 5) / 9);
              temp.textContent = celsiusTemp;
            }
            let celsiusButton = document.getElementById("celsius");
            celsiusButton.addEventListener("click", backTemp);

            /////////////////
            //week 5 Homework
            //get info
            function getPosition(position) {
              let lat = position.coords.latitude;
              let long = position.coords.longitude;
              let apiKey = "c6c7a492e76418057d85930c1c58128d";
              let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&units=metric&appid=${apiKey}`;
              axios.get(apiUrl).then(showInfo);
            }
            navigator.geolocation.getCurrentPosition(getPosition);

            //open page get city name
            function showInfo(response) {
              let myCity = document.querySelector("#currentLocation");
              let city = response.data.name;
              myCity.innerHTML = city;

              let cityTemp = document.querySelector("#currentTemp");
              let temp = Math.round(response.data.main.temp);
              cityTemp.innerHTML = temp;

              let description = response.data.weather[0].description;
              let infoTemp = document.querySelector("#weatherDescription");
              infoTemp.innerHTML = description;

              let cityHumidity = document.querySelector("#humidity");
              let cityWind = document.querySelector("#wind");
              let humidity = Math.round(response.data.main.humidity);
              let wind = Math.round(response.data.wind.speed);
              cityHumidity.innerHTML = humidity;
              cityWind.innerHTML = wind;
            }
            //week5 homework
            //1 search city
            function searchNewCity(event) {
              event.preventDefault();
              let formInput = document.querySelector(".exampleInputForm");
              formInput = formInput.value;
              let apiKey = "c6c7a492e76418057d85930c1c58128d";
              let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${formInput}&units=metric&appid=${apiKey}`;
              axios.get(apiUrl).then(showInfo);
            }
            let form = document.querySelector(".searchForm");
            form.addEventListener("submit", searchNewCity);

            //week5 homework
            //2 Current city
            function loadCurrentLocation() {
              navigator.geolocation.getCurrentPosition(showCity);
              function showCity(position) {
                let lat = position.coords.latitude;
                let long = position.coords.longitude;
                let apiKey = "c6c7a492e76418057d85930c1c58128d";
                let apiCity = `http://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${long}&appid=${apiKey}`;
                axios.get(apiCity).then(localCityName);
                function localCityName(response) {
                  let myCity = document.querySelector("#currentLocation");
                  let city = response.data[0].name;
                  console.log(response.data[0].name);

                  myCity.innerHTML = city;
                }
              }
            }

            function loadLocation(event) {
              event.preventDefault();
              navigator.geolocation.getCurrentPosition(showLocation);
              function showLocation(position) {
                let lat = position.coords.latitude;
                let long = position.coords.longitude;
                let apiKey = "c6c7a492e76418057d85930c1c58128d";
                let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&units=metric&appid=${apiKey}`;
                axios.get(apiUrl).then(showCurrentLocation);
              }
              function showCurrentLocation(response) {
                let myCity = document.querySelector("#currentLocation");
                let city = response.data.name;
                myCity.innerHTML = city;

                let cityTemp = document.querySelector("#currentTemp");
                let temp = Math.round(response.data.main.temp);
                cityTemp.innerHTML = temp;

                let description = response.data.weather[0].description;
                let infoTemp = document.querySelector("#weatherDescription");
                infoTemp.innerHTML = description;

                let cityHumidity = document.querySelector("#humidity");
                let cityWind = document.querySelector("#wind");
                let humidity = Math.round(response.data.main.humidity);
                let wind = Math.round(response.data.wind.speed);
                cityHumidity.innerHTML = humidity;
                cityWind.innerHTML = wind;
              }
            }
            let currentBtn = document.querySelector("#currentBtn");
            currentBtn.addEventListener("click", loadLocation);
          </script>
        </div>
      </section>
    </main>
  </body>
</html>
